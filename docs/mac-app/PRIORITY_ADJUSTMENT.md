# 开发计划优先级调整说明

## 调整时间
2024-02-18

## 调整原因
根据用户需求，将 Purge（项目清理）功能提前到 Clean 和 Uninstall 之后立即实现。

## 调整前后对比

### 调整前
```
Sprint 5: Analyze（磁盘分析）
Sprint 6: Status（系统监控）
Sprint 7: Optimize（系统优化）
Sprint 8: Purge & Installer（项目和安装包清理）
Sprint 9: UI 优化
Sprint 10: 测试和发布
```

### 调整后
```
Sprint 5: Purge（项目清理）⭐ 提前
Sprint 6: Analyze（磁盘分析）
Sprint 7: Status（系统监控）
Sprint 8: Optimize（系统优化）
Sprint 9: Installer（安装包清理）
Sprint 10: UI 优化
Sprint 11: 测试和发布
```

## 为什么这样调整？

### 1. 用户价值优先
**Purge 对开发者的价值**：
- ✅ 高频使用：开发者每天都需要清理项目
- ✅ 快速见效：能立即回收 10-50GB 空间
- ✅ 痛点明确：node_modules、target 等占用大量空间

**Analyze 和 Status 的特点**：
- 📊 可视化功能，更多是"锦上添花"
- 📈 使用频率相对较低
- 🎨 需要更多 UI 设计和优化

### 2. 技术依赖合理
**Purge 的技术基础**：
- ✓ 依赖 Sprint 1 的文件扫描
- ✓ 依赖 Sprint 2 的文件删除
- ✓ 不需要复杂的可视化
- ✓ 实现相对简单

**实现顺序**：
```
Sprint 1-2: 文件扫描和删除（基础能力）
    ↓
Sprint 3: Clean（应用基础能力）
    ↓
Sprint 4: Uninstall（扩展应用）
    ↓
Sprint 5: Purge（继续应用）✅ 技术成熟
    ↓
Sprint 6-7: Analyze & Status（需要新技术：可视化、实时监控）
```

### 3. 开发节奏优化
**调整后的好处**：
- 🚀 前 5 个 Sprint 都是"清理"相关功能，技术栈一致
- 📊 Sprint 6-7 集中处理"可视化"功能
- ⚙️ Sprint 8-9 处理"辅助"功能
- 🎨 Sprint 10 统一优化 UI
- ✅ Sprint 11 测试和发布

**技术栈分组**：
```
第一阶段（Sprint 1-5）：文件操作
- 扫描、删除、清理
- 技术：FileManager, FileScanner, FileDeleter

第二阶段（Sprint 6-7）：可视化
- 图表、监控、分析
- 技术：Charts, IOKit, 实时数据

第三阶段（Sprint 8-9）：辅助功能
- 优化、安装包清理
- 技术：Process, 系统命令

第四阶段（Sprint 10-11）：完善和发布
- UI 优化、测试、发布
```

## 时间线影响

### 总时间不变
- 调整前：18 周
- 调整后：18 周（Sprint 8 拆分为 Sprint 8 和 9）

### 里程碑调整
| 里程碑 | 调整前 | 调整后 | 说明 |
|--------|--------|--------|------|
| M1: 基础架构 | Week 3 | Week 3 | 不变 |
| M2: Clean 完成 | Week 7 | Week 7 | 不变 |
| M3: 核心清理完成 | Week 9 | Week 10 | **新增 Purge** |
| M4: 可视化完成 | Week 13 | Week 14 | 延后 1 周 |
| M5: 所有功能完成 | Week 15 | Week 16 | 延后 1 周 |
| M6: 发布就绪 | Week 18 | Week 18 | 不变 |

## 具体变更

### 文档更新
- ✅ [04-迭代开发计划.md](04-迭代开发计划.md) - 更新迭代总览和 Sprint 5
- ✅ [05-Sprint5-10详细计划.md](05-Sprint5-10详细计划.md) - 更新为 Sprint 5-11
- ✅ [START_HERE.md](START_HERE.md) - 需要更新时间线

### Sprint 5 详细计划
已在 [04-迭代开发计划.md](04-迭代开发计划.md) 中添加完整的 Sprint 5（Purge）计划，包括：
- 项目类型枚举（9种）
- 项目扫描服务
- 清理服务
- ViewModel 和 UI
- 路径配置

## 开发建议

### 完成 Sprint 4 后
1. **立即开始 Sprint 5（Purge）**
2. **复用 Sprint 1-2 的代码**
3. **重点关注项目识别逻辑**
4. **确保最近项目保护机制**

### Sprint 5 的关键点
- ✓ 项目类型识别要准确
- ✓ 可清理空间计算要正确
- ✓ 最近 7 天的项目默认不选中
- ✓ 支持自定义扫描路径

### 风险控制
- ⚠️ 误删风险：只删除构建产物，不删除源代码
- ⚠️ 性能问题：扫描大量项目可能慢，需要优化
- ⚠️ 用户体验：路径配置要简单明了

## 总结

这次调整是基于用户需求和技术合理性做出的：

1. **用户价值最大化**：Purge 是开发者最需要的功能
2. **技术依赖合理**：基于已有的文件操作能力
3. **开发节奏优化**：相似功能集中开发
4. **总时间不变**：仍然是 18 周完成

**下一步**：
- 完成 Sprint 4（Uninstall）
- 开始 Sprint 5（Purge）
- 享受快速回收空间的成就感！🚀

---

**调整人**：根据用户需求
**调整时间**：2024-02-18
**影响范围**：Sprint 5-11
**风险评估**：低（技术成熟，依赖清晰）
